/*********************************************************************************************************
* 模块名称: 
* 摘 	  要: 
* 当前版本: 1.0.0
* 作 	  者: 
* 完成日期: 20XX 年 XX 月 XX 日
* 内	  容:
* 注 	  意: none
**********************************************************************************************************
* 取代版本:
* 作 	  者:
* 完成日期:
* 修改内容:
* 修改文件:
*********************************************************************************************************/
 
 
/*********************************************************************************************************
* 包含头文件
*********************************************************************************************************/
#include "LED.h"

/*********************************************************************************************************
* 宏定义
*********************************************************************************************************/
#define LED_Set()     GPIO_SetBits(GPIOC, GPIO_Pin_13)       //设置LED引脚为高电平
#define LED_Reset()   GPIO_ResetBits(GPIOC, GPIO_Pin_13)     //设置LED引脚为低电平

/*********************************************************************************************************
* 枚举结构体定义
*********************************************************************************************************/


/*********************************************************************************************************
* 内部变量
*********************************************************************************************************/


/*********************************************************************************************************
* 内部函数声明
*********************************************************************************************************/
static void LED_Config(void);

/*********************************************************************************************************
* 内部函数实现
*********************************************************************************************************/

/*********************************************************************************************************
* 函数名称: LED_Config
* 函数功能: LED引脚配置
* 输入参数: void
* 输出参数: void
* 返 回 值: void
* 创建日期: 2023 年 08 月 01 日
* 注		意: PA05 -> LED
*********************************************************************************************************/

static void LED_Config(void){
  GPIO_InitTypeDef GPIO_InitStructure;  //GPIO_InitStructure用于存放GPIO的参数
                                   
  //使能RCC相关时钟
  RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC, ENABLE); //使能GPIOC的时钟
                                                                                                                 
  GPIO_InitStructure.GPIO_Pin   = GPIO_Pin_13;           //设置引脚
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;     //设置I/O输出速度
  GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_Out_PP;     //设置模式
  GPIO_Init(GPIOC, &GPIO_InitStructure); 
}

/*********************************************************************************************************
* API 函数实现
*********************************************************************************************************/

/*********************************************************************************************************
* 函数名称: LED_Init
* 函数功能: LED模块初始化
* 输入参数: void
* 输出参数: void
* 返 回 值: void
* 创建日期: 2023 年 08 月 01 日
* 注		意: none
*********************************************************************************************************/

void LED_Init(void){
  LED_Config();
}

/*********************************************************************************************************
* 函数名称: LED_Flicker
* 函数功能: LED闪烁
* 输入参数: void
* 输出参数: void
* 返 回 值: void
* 创建日期: 2023 年 08 月 01 日
* 注		意: 每执行一次LED状态改变一次
*********************************************************************************************************/

void LED_Flicker(void){
  GPIO_WriteBit(GPIOC, GPIO_Pin_13, (BitAction)(1 - GPIO_ReadOutputDataBit(GPIOC, GPIO_Pin_13))); 
}

